---
// Placeholder data for services
// Updated services data - icon property removed as SVGs will be added directly
// Removed textShadow variable as it's now a Tailwind class
// const textShadow = 'text-shadow: 0 1px 3px rgba(0,0,0,0.4);'; 
const services = [
  { id: 'web-dev', title: 'Izrada Web Sajtova', description: 'Kreiramo moderne, brze i responzivne sajtove (statičke, dinamičke, WordPress).' },
  { id: 'web-design', title: 'Web Dizajn', description: 'Dizajniramo vizuelno privlačna i korisnički orijentisana rešenja.' },
  { id: 'programming', title: 'Programiranje', description: 'Nudimo rešenja koristeći JavaScript, Python, PHP i druge tehnologije.' },
  { id: 'maintenance', title: 'Održavanje Sajtova', description: 'Pružamo redovno održavanje, ažuriranja i tehničku podršku.' },
  { id: 'seo', title: 'SEO Optimizacija', description: 'Poboljšavamo vidljivost vašeg sajta na pretraživačima.' },
  // { id: 'pricing', title: 'Cenovnik', description: 'Pregled naših standardnih paketa i opcija cena.' }, // Removed Pricing entry
];

// Helper object to map service IDs to Heroicons SVG code
const icons = {
  'web-dev': `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 text-primary mb-4 mx-auto"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25" /></svg>`,
  'web-design': `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 text-primary mb-4 mx-auto"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" /></svg>`,
  'programming': `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 text-primary mb-4 mx-auto"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5" /></svg>`,
  'maintenance': `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 text-primary mb-4 mx-auto"><path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.495-2.495a1.125 1.125 0 0 1 1.591 0l.667.667a1.125 1.125 0 0 1 0 1.591l-2.495 2.495m0 0a2.106 2.106 0 0 0-2.977 0l-.995.995a2.107 2.107 0 0 1-2.977 0l-.995-.995a2.106 2.106 0 0 0-2.977 0l-2.495 2.495a1.125 1.125 0 0 0 0 1.591l.667.667a1.125 1.125 0 0 0 1.591 0l2.495-2.495m-3.286-3.286a2.106 2.106 0 0 0 0-2.977l-.995-.995a2.107 2.107 0 0 0-2.977 0l-.995.995a2.106 2.106 0 0 1-2.977 0L3.75 7.22m11.42 7.95a2.106 2.106 0 0 0 2.977 0l.995-.995a2.107 2.107 0 0 1 2.977 0l.995.995a2.106 2.106 0 0 0 2.977 0l2.495-2.495a1.125 1.125 0 0 1 0-1.591l-.667-.667a1.125 1.125 0 0 1-1.591 0l-2.495 2.495m0 0a2.106 2.106 0 0 1-2.977 0l-.995-.995a2.107 2.107 0 0 0-2.977 0l-.995.995a2.106 2.106 0 0 1-2.977 0L7.22 3.75m11.42 7.95" /></svg>`,
  'seo': `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 text-primary mb-4 mx-auto"><path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" /></svg>`,
  // 'pricing': `<svg ... />` // Removed Pricing icon entry
};

// Define a type for the keys of the icons object
type IconKey = keyof typeof icons;

const base = import.meta.env.BASE_URL; // Get base URL once
---

{/* Removed bg-white from section */}
<section id="usluge" class="py-16 transition-colors duration-300">
  <div class="container mx-auto px-6">
    {/* Removed h2 title as it's now handled by PageTitle component */}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {services.map((service, index) => {
        // Improved slug generation to handle Serbian characters
        const slug = service.title
          .toLowerCase()
          .replace(/č|ć/g, 'c')
          .replace(/š/g, 's')
          .replace(/đ/g, 'dj')
          .replace(/ž/g, 'z')
          .replace(/\s+/g, '-') // Replace spaces with -
          .replace(/[^\w-]+/g, '') // Remove all non-word chars except -
          .replace(/--+/g, '-') // Replace multiple - with single -
          .replace(/^-+/, '') // Trim - from start of text
          .replace(/-+$/, ''); // Trim - from end of text
        // Point 'Cenovnik' card to the main web development page where all packages are listed
        const serviceUrl = service.id === 'pricing' ? '/usluge/izrada-web-sajtova' : `/usluge/${slug}`;
 
         return (
           // Transparent base, multi-color gradient on hover, white text default
           <a href={base + serviceUrl} class="block bg-transparent p-6 rounded-lg flex flex-col transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 border-2 border-transparent hover:border-indigo-500 hover:bg-gradient-to-br hover:from-pink-400 hover:via-purple-500 hover:to-indigo-600 text-center no-underline group" data-aos="fade-up" data-aos-delay={index * 100}> {/* Add base prefix */}
             {/* Icon white default, white on hover (as background changes) */}
             {/* Use type assertion to satisfy TypeScript */}
             <div class="flex-shrink-0 text-white transition-colors duration-300" set:html={icons[service.id as IconKey]}></div> 
            <div class="flex-grow"> 
              <h3 class="text-xl font-semibold text-white group-hover:text-white mb-2 transition-colors duration-300 text-shadow-sm">{service.title}</h3> {/* Added text-shadow-sm */}
              <p class="text-gray-200 group-hover:text-gray-100 transition-colors duration-300 text-shadow-sm">{service.description}</p> {/* Added text-shadow-sm */}
            </div>
          </a>
        );
      })}
    </div>
  </div>
</section>

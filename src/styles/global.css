@import "tailwindcss";

:root {
  --color-primary: 45 93 140; /* RGB values for #2D5D8C */
}

/* Global styling for background images - Background set in Layout.astro */
body {
  /* Background properties moved to Layout.astro's style block */
  background-color: #121212; /* Dark fallback */
  color: white;
  position: relative; /* Needed for z-index stacking */
}

/* New background container styles */
.background-container {
  position: fixed; /* Fixed position to stay in place */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1; /* Place it behind the content */
  background-image: url('/images/hero-background.jpg'); /* Use root-relative path */
  background-size: cover;
  background-attachment: fixed; /* Keep fixed attachment */
  background-position: center;
  background-repeat: no-repeat;
}

/* Ensure content container is above background */
.content-container {
  position: relative;
  z-index: 1; /* Ensure content is above the background */
}


/* Make all containers completely transparent */
header, main, footer, section, .container, article, div, aside {
  background-color: transparent !important;
  backdrop-filter: none !important;
}

/* Make sure footer and all its children are transparent */
footer, 
footer *, 
footer div, 
footer nav, 
footer ul, 
footer li, 
footer a {
  background-color: transparent !important; /* Ensure children are transparent */
  backdrop-filter: none !important;
  background-image: none !important;
}

/* Explicitly target footer element itself */
footer {
  background-color: transparent !important; 
  backdrop-filter: none !important;
}

/* Animation for clickable elements */
a, button, [role="button"], .clickable, 
nav a, .nav-link, 
.bg-gray-700, .rounded-full,
span[class*="px-3"], 
.card, .pricing-card, .portfolio-item, 
.service-card, [class*="hover:"] {
  position: relative;
  transition: all 0.3s ease-out;
  overflow: hidden;
}

/* Simplified hover effect for most clickable elements */
a:hover, button:hover, [role="button"]:hover, .clickable:hover, 
nav a:hover, .nav-link:hover, 
.card:hover, .pricing-card:hover, .portfolio-item:hover, 
.service-card:hover,
.bg-gray-700:hover, .rounded-full:hover, span[class*="px-3"]:hover,
[class*="hover:"]:hover {
  transform: scale(1.03); /* Simple scale up */
  filter: brightness(1.15); /* Slight brightness increase */
  /* Removed complex transforms, shadows, and z-index changes */
}

/* Specific hover effect for footer dropdown (no scale) */
[data-dropdown-menu] > div:hover {
  filter: brightness(1.15); /* Slight brightness increase only */
}

/* Remove special bouncy animation for badges/tags, use default transition */
.bg-gray-700, .rounded-full, span[class*="px-3"] {
  background-color: rgba(31, 41, 55, 0.4) !important; /* Much more transparent */
  /* transition is handled by the general rule above */
}

/* Ensure text is readable on transparent backgrounds */
p, h1, h2, h3, h4, h5, h6, span, a, li {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 0 10px rgba(0, 0, 0, 0.5);
  font-weight: 500; /* Slightly bolder for better readability */
}

/* Make heading text even more visible */
h1, h2, h3, .text-xl, .text-2xl, .text-3xl, .text-4xl {
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.9), 0 0 12px rgba(0, 0, 0, 0.7);
  font-weight: 600;
}

/* Background wrapper that allows the underlying image to show through */
.wrapper, .content-wrapper, .page-content, [class*="-wrapper"] {
  background-color: transparent !important;
  z-index: 1;
}

/* Improve contrast for code blocks */
pre, code {
  background-color: rgba(0, 0, 0, 0.7) !important; /* Slightly darker for code readability */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

/* Removed separate subtle hover glow effect, integrated into main hover rule */

/* Apply hero background via utility class that can properly handle base path in component files */
.bg-hero-background {
  /* The actual image will be set via inline style with base path in component files */
  position: relative;
}

/* Override any Tailwind classes that might add backgrounds */
.bg-transparent,
.bg-black, 
.bg-black\/20, 
.bg-black\/30, 
.bg-white\/10,
[class*="bg-"] {
  background-color: transparent !important;
  /* background-image: none !important; <-- Removed this line */
}

/* Exception for glass effect elements - must be more specific than above */
.glass-effect, 
.backdrop-blur-md[data-dropdown-menu] div,
header nav .backdrop-blur-sm, 
.bg-black\/30.backdrop-blur-md {
  background-color: rgba(0, 0, 0, 0.3) !important;
  backdrop-filter: blur(8px) !important;
}

/* Loading order optimization - critical styles first */
@layer {
  /* Base layer - loaded first */
  @layer base {
    html, body {
      min-height: 100vh;
      width: 100%;
    }
  }
  
  /* Layout components - loaded second */
  @layer layout {
    header, footer, main {
      width: 100%;
      position: relative; /* Ensure these are also positioned */
      z-index: 10; /* Keep header/footer above other content if needed */
    }
  }
  
  /* Interactive elements - loaded after layout is established */
  @layer components {
    button, a, .interactive {
      cursor: pointer;
    }
  }
}
